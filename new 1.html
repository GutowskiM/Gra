<!doctype html>
<html>
<head>

<style>
	table td {background-color: lightblue; width : 60px;height: 40px;}
	table th {background-color: white; width : 60px;height: 40px;}
	</style>
	
</head>
<body>
<div> 
<table>
	<tr>
		<td id = "a00">0</td>
		<td id = "b00">0</td>
		<td	id = "c00">0</td>
		<td	id = "d00">0</td>
		<td	id = "e00">0</td>
		<td	id = "f00">0</td>
		<td	id = "g00">0</td>
		<td	id = "h00">0</td>
		<td	id = "i00">0</td>
		<td	id = "j00">0</td>
	</tr>
	<tr>
		<td id = "a01">0</td>
		<td id = "b01">0</td>
		<td	id = "c01">0</td>
		<td	id = "d01">0</td>
		<td	id = "e01">0</td>
		<td	id = "f01">0</td>
		<td	id = "g01">0</td>
		<td	id = "h01">0</td>
		<td	id = "i01">0</td>
		<td	id = "j01">0</td>
	</tr>	
	<tr>
		<td id = "a02">0</td>
		<td id = "b02">0</td>
		<td	id = "c02">0</td>
		<td	id = "d02">0</td>
		<td	id = "e02">0</td>
		<td	id = "f02">0</td>
		<td	id = "g02">0</td>
		<td	id = "h02">0</td>
		<td	id = "i02">0</td>
		<td	id = "j02">0</td>
	</tr>	
	<tr>
		<td id = "a03">0</td>
		<td id = "b03">0</td>
		<td	id = "c03">0</td>
		<td	id = "d03">0</td>
		<td	id = "e03">0</td>
		<td	id = "f03">0</td>
		<td	id = "g03">0</td>
		<td	id = "h03">0</td>
		<td	id = "i03">0</td>
		<td	id = "j03">0</td>
	</tr>	
	<tr>
		<td id = "a04">0</td>
		<td id = "b04">0</td>
		<td	id = "c04">0</td>
		<td	id = "d04">0</td>
		<td	id = "e04">0</td>
		<td	id = "f04">0</td>
		<td	id = "g04">0</td>
		<td	id = "h04">0</td>
		<td	id = "i04">0</td>
		<td	id = "j04">0</td>
	</tr>	
	<tr>
		<td id = "a05">0</td>
		<td id = "b05">0</td>
		<td	id = "c05">0</td>
		<td	id = "d05">0</td>
		<td	id = "e05">0</td>
		<td	id = "f05">0</td>
		<td	id = "g05">0</td>
		<td	id = "h05">0</td>
		<td	id = "i05">0</td>
		<td	id = "j05">0</td>
	</tr>	
	<tr>
		<td id = "a06">0</td>
		<td id = "b06">0</td>
		<td	id = "c06">0</td>
		<td	id = "d06">0</td>
		<td	id = "e06">0</td>
		<td	id = "f06">0</td>
		<td	id = "g06">0</td>
		<td	id = "h06">0</td>
		<td	id = "i06">0</td>
		<td	id = "j06">0</td>
	</tr>	
	<tr>
		<td id = "a07">0</td>
		<td id = "b07">0</td>
		<td	id = "c07">0</td>
		<td	id = "d07">0</td>
		<td	id = "e07">0</td>
		<td	id = "f07">0</td>
		<td	id = "g07">0</td>
		<td	id = "h07">0</td>
		<td	id = "i07">0</td>
		<td	id = "j07">0</td>
	</tr>	
	<tr>
		<td id = "a08">0</td>
		<td id = "b08">0</td>
		<td	id = "c08">0</td>
		<td	id = "d08">0</td>
		<td	id = "e08">0</td>
		<td	id = "f08">0</td>
		<td	id = "g08">0</td>
		<td	id = "h08">0</td>
		<td	id = "i08">0</td>
		<td	id = "j08">0</td>
	</tr>	
	<tr>
		<td id = "a09">0</td>
		<td id = "b09">0</td>
		<td	id = "c09">0</td>
		<td	id = "d09">0</td>
		<td	id = "e09">0</td>
		<td	id = "f09">0</td>
		<td	id = "g09">0</td>
		<td	id = "h09">0</td>
		<td	id = "i09">0</td>
		<td	id = "j09">0</td>
	</tr>	
	<tr>
		<td id = "a10">0</td>
		<td id = "b10">0</td>
		<td	id = "c10">0</td>
		<td	id = "d10">0</td>
		<td	id = "e10">0</td>
		<td	id = "f10">0</td>
		<td	id = "g10">0</td>
		<td	id = "h10">0</td>
		<td	id = "i10">0</td>
		<td	id = "j10">0</td>
	</tr>	
	<tr>
		<td id = "a11">0</td>
		<td id = "b11">0</td>
		<td	id = "c11">0</td>
		<td	id = "d11">0</td>
		<td	id = "e11">0</td>
		<td	id = "f11">0</td>
		<td	id = "g11">0</td>
		<td	id = "h11">0</td>
		<td	id = "i11">0</td>
		<td	id = "j11">0</td>
	</tr>	
	<tr>
		<td id = "a12">0</td>
		<td id = "b12">0</td>
		<td	id = "c12">0</td>
		<td	id = "d12">0</td>
		<td	id = "e12">0</td>
		<td	id = "f12">0</td>
		<td	id = "g12">0</td>
		<td	id = "h12">0</td>
		<td	id = "i12">0</td>
		<td	id = "j12">0</td>
	</tr>	
	<tr>
		<td id = "a13">0</td>
		<td id = "b13">0</td>
		<td	id = "c13">0</td>
		<td	id = "d13">0</td>
		<td	id = "e13">0</td>
		<td	id = "f13">0</td>
		<td	id = "g13">0</td>
		<td	id = "h13">0</td>
		<td	id = "i13">0</td>
		<td	id = "j13">0</td>
	</tr>	
	<tr>
		<td id = "a14">0</td>
		<td id = "b14">0</td>
		<td	id = "c14">0</td>
		<td	id = "d14">0</td>
		<td	id = "e14">0</td>
		<td	id = "f14">0</td>
		<td	id = "g14">0</td>
		<td	id = "h14">0</td>
		<td	id = "i14">0</td>
		<td	id = "j14">0</td>
	</tr>	
	<tr>
		<td id = "a15">0</td>
		<td id = "b15">0</td>
		<td	id = "c15">0</td>
		<td	id = "d15">0</td>
		<td	id = "e15">0</td>
		<td	id = "f15">0</td>
		<td	id = "g15">0</td>
		<td	id = "h15">0</td>
		<td	id = "i15">0</td>
		<td	id = "j15">0</td>
	</tr>	
	<tr>
		<td id = "a16">0</td>
		<td id = "b16">0</td>
		<td	id = "c16">0</td>
		<td	id = "d16">0</td>
		<td	id = "e16">0</td>
		<td	id = "f16">0</td>
		<td	id = "g16">0</td>
		<td	id = "h16">0</td>
		<td	id = "i16">0</td>
		<td	id = "j16">0</td>
	</tr>	
	<tr>
		<td id = "a17">0</td>
		<td id = "b17">0</td>
		<td	id = "c17">0</td>
		<td	id = "d17">0</td>
		<td	id = "e17">0</td>
		<td	id = "f17">0</td>
		<td	id = "g17">0</td>
		<td	id = "h17">0</td>
		<td	id = "i17">0</td>
		<td	id = "j17">0</td>
	</tr>	
	<tr>
		<td id = "a18">0</td>
		<td id = "b18">0</td>
		<td	id = "c18">0</td>
		<td	id = "d18">0</td>
		<td	id = "e18">0</td>
		<td	id = "f18">0</td>
		<td	id = "g18">0</td>
		<td	id = "h18">0</td>
		<td	id = "i18">0</td>
		<td	id = "j18">0</td>
	</tr>	
	<tr>
		<td id = "a19">0</td>
		<td id = "b19">0</td>
		<td	id = "c19">0</td>
		<td	id = "d19">0</td>
		<td	id = "e19">0</td>
		<td	id = "f19">0</td>
		<td	id = "g19">0</td>
		<td	id = "h19">0</td>
		<td	id = "i19">0</td>
		<td	id = "j19">0</td>
	</tr>	
	<tr>
		<th id = "a20">9</td>
		<th id = "b20">9</td>
		<th	id = "c20">9</td>
		<th	id = "d20">9</td>
		<th	id = "e20">9</td>
		<th	id = "f20">9</td>
		<th	id = "g20">9</td>
		<th	id = "h20">9</td>
		<th	id = "i20">9</td>
		<th	id = "j20">9</td>
	</tr>	
	
</table>
</div>
<script>
var brick1id = "e00";
var brick2id = "e01";
var brick3id = "e02";
let timestep = 900;
var points = 0;



function brick_cont(id){
var a = Math.random()* 3;
if(a <=3){
document.getElementById(id).innerHTML = "1";
}
if(a <=2){
document.getElementById(id).innerHTML = "1";
}
if(a <=1){
document.getElementById(id).innerHTML = "1";
}
}

function brick_produce(){
brick1id = "e00";
brick2id = "e01";
brick3id = "e02";
brick_cont(brick1id);
brick_cont(brick2id);
brick_cont(brick3id);
}

function drop(){
var i = 19;
var check1id;
var check1 = document.getElementById('a01');
var check2 = document.getElementById('a01');
var check3 = document.getElementById('a01');


	while (i >= 0){
		var o = 'a'
		while (o != "k"){
			if (i<10){
			check1id = o+ "0" + i;
			}
			if ( i > 9 ){
			check1id = o + i;
			
			}
			
			check1 = document.getElementById(check1id);
			if (check1.innerHTML != "0" && check1.innerHTML == check2.innerHTML && check2.innerHTML == check3.innerHTML ){
			check1.innerHTML = "0";
			check2.innerHTML = "0";
			check3.innerHTML = "0";
			points = points + 100;
			console.log(points);
			
			}
			check3 = check2;
			check2 = check1;
		



		o = String.fromCharCode(o.charCodeAt(0) + 1);
		}
		i--;
	}
	o = 'a';
	while (o != 'k'){
		i = 19;
		while (i>=0){
		
			if (i<10){
			check1id = o+ "0" + i;
			}
			if ( i > 9 ){
			check1id = o + i;
			
			}
			check1 = document.getElementById(check1id);
			if (check1.innerHTML != '0' && check1.innerHTML == check2.innerHTML && check2.innerHTML == check3.innerHTML ){
			check1.innerHTML = "0";
			check2.innerHTML = "0";
			check3.innerHTML = "0";
			points = points + 100;
			console.log(points);
			
			}
			check3 = check2;
			check2 = check1;
		



		i--;
		}
		o = String.fromCharCode(o.charCodeAt(0) + 1);
	}


}

function down(){
	var brick1 = document.getElementById(brick1id);
	var brick2 = document.getElementById(brick2id);
	var	brick3 = document.getElementById(brick3id);
	var brick3idlett = brick3id[0];	
	var remem = brick3id;
	brick3id = brick3id[1]+ brick3id[2]
	if (brick3id < 9){
		brick3id = +brick3id + 1 ;
		brick3id = brick3idlett + "0" + brick3id;
	}
	if (brick3id >= 9){
		brick3id = +brick3id + 1 ;
		brick3id = brick3idlett + brick3id;
	}
	
	var next = document.getElementById(brick3id);
	if(next.innerHTML > 8){
		brick3.innerHTML = +brick3.innerHTML + 10;
		brick3id = remem;
		if (brick1id == "e00"){
		alert("Przegrana");
		location.reload();
		
		}
		timestep = timestep * 0.95
		drop();
		
		
	}
	else{
		next.innerHTML = brick3.innerHTML;
		brick3.innerHTML = "0";
	}
	var brick2idlett = brick2id[0];	
	var remem = brick2id;
	brick2id = brick2id[1]+ brick2id[2]
	if (brick2id < 9){
	brick2id = +brick2id + 1 ;
	brick2id = brick2idlett + "0" + brick2id;
	}
	if (brick2id >= 9){
	brick2id = +brick2id + 1 ;
	brick2id = brick2idlett + brick2id;
	}
	
	var next = document.getElementById(brick2id);
	if(next.innerHTML > 8){
	brick2.innerHTML = +brick2.innerHTML + 10;
	}
	else{
	next.innerHTML = brick2.innerHTML;
	brick2.innerHTML = "0";
	}
	var brick1idlett = brick1id[0];
	var remem = brick1id;
	brick1id = brick1id[1]+ brick1id[2]
	if (brick1id < 9){
	brick1id = +brick1id + 1 ;
	brick1id = brick1idlett + "0" + brick1id;
	}
	if (brick1id >= 9){
	brick1id = +brick1id + 1 ;
	brick1id = brick1idlett + brick1id;
	}
	
	var next = document.getElementById(brick1id);
	if(next.innerHTML > 8){
	brick1.innerHTML = +brick1.innerHTML + 10;
	brick1id = remem;
	brick_produce();
	}
	else{
	next.innerHTML = brick1.innerHTML;
	brick1.innerHTML = "0";
	}
	
}

function right(){
var c = brick3id[0];
if (c == 'j'){
c='a';
}
else{
c = String.fromCharCode(c.charCodeAt(0) + 1);
}

var newid =  c + brick1id[1] + brick1id[2];
var newidcont = document.getElementById(newid);
if(newidcont.innerHTML == '0'){
	var brick1 = document.getElementById(brick1id);
	var brick2 = document.getElementById(brick2id);
	var	brick3 = document.getElementById(brick3id);
	brick1id = c + brick1id[1] + brick1id[2];
	brick2id = c + brick2id[1] + brick2id[2];
	brick3id = c + brick3id[1] + brick3id[2];
	var brick1n = document.getElementById(brick1id);
	var brick2n = document.getElementById(brick2id);
	var	brick3n = document.getElementById(brick3id);
	brick1n.innerHTML = brick1.innerHTML;
	brick2n.innerHTML = brick2.innerHTML;
	brick3n.innerHTML = brick3.innerHTML;
	brick1.innerHTML = '0';
	brick2.innerHTML = '0';
	brick3.innerHTML = '0';
}



}

function left(){
var c = brick3id[0];
if (c == 'a'){
c='j';
}
else{
c = String.fromCharCode(c.charCodeAt(0) - 1);
}

var newid =  c + brick1id[1] + brick1id[2];
var newidcont = document.getElementById(newid);
if(newidcont.innerHTML == '0'){
	var brick1 = document.getElementById(brick1id);
	var brick2 = document.getElementById(brick2id);
	var	brick3 = document.getElementById(brick3id);
	brick1id = c + brick1id[1] + brick1id[2];
	brick2id = c + brick2id[1] + brick2id[2];
	brick3id = c + brick3id[1] + brick3id[2];
	var brick1n = document.getElementById(brick1id);
	var brick2n = document.getElementById(brick2id);
	var	brick3n = document.getElementById(brick3id);
	brick1n.innerHTML = brick1.innerHTML;
	brick2n.innerHTML = brick2.innerHTML;
	brick3n.innerHTML = brick3.innerHTML;
	brick1.innerHTML = '0';
	brick2.innerHTML = '0';
	brick3.innerHTML = '0';

}
}

function scroll(){
	var brick1 = document.getElementById(brick1id);
	var brick2 = document.getElementById(brick2id);
	var	brick3 = document.getElementById(brick3id);
	var buffer = brick1;
	brick1.innerHTML = brick2.innerHTML;
	brick2.innerHTML = brick3.innerHTML;
	brick3.innerHTML = buffer.innerHTML;

}


function game(){
brick_produce();
//let timerId = window.setInterval(down, timestep);
//timerId = window.setInterval(left, 1000);
//timerId = window.setInterval(right, 400);
down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();
down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down();down()

}
game()
</script>


</body>
</html>